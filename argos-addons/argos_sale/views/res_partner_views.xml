<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>

    <record id="res_patient_view_form_inherit" model="ir.ui.view">
      <field name="name">res.patient.view.form.inherit</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="argos_contact.res_partner_view_form"/>
      <field name="arch" type="xml">
        <div name="button_box" position="inside">
          <button name="action_open_orders" string="Sale Report" icon="fa-bar-chart" type="object"/>
        </div>
        <xpath expr="//form/sheet" position="before">
          <header>
            <button name="button_create_consultation" type="object" class="btn btn-primary" string="New Consultation"/>
            <button name="button_create_order" type="object" class="btn btn-primary" string="Create Order"/>
          </header>
        </xpath>
        <page name="medical_events" position="inside">
          <group string="Consultations">
            <field name="consultation_ids"
                   context="{'form_view_ref': 'argos_sale.consultation_view_order_form', 'tree_view_ref': 'argos_sale.consultation_view_order_tree', 'default_is_consultation': True}"
                   nolabel="1"/>
          </group>
          <group string="Acts">
            <field name="act_ids" nolabel="1">
              <tree>
                <field name="order_id" string="Consultation"/>
                <field name="consultation_date"/>
                <field name="product_id"/>
                <field name="order_partner_id"/>
                <field name="employee_id"/>
                <field name="company_id"/>
                <field name="operating_unit_id"/>
                <field name="attachment_ids" widget="many2many_binary"/>
              </tree>
            </field>
          </group>
        </page>
        <page name="hospitalization" position="inside">
          <field name="hospitalization_ids" nolabel="1">
            <tree>
              <field name="order_id" string="Consultation"/>
              <field name="product_id"/>
              <field name="consultation_date" string="Start date" />
              <field name="invoice_creation_date" string="End date" />
              <field name="comment"/>
            </tree>
          </field>
        </page>
        <page name="surgery" position="inside">
          <field name="surgery_ids" nolabel="1">
            <tree>
              <field name="order_id" string="Consultation"/>
              <field name="consultation_date" string="Date"/>
              <field name="attachment_ids" widget="many2many_binary"/>
              <field name="comment"/>
            </tree>
          </field>
        </page>
      </field>
    </record>

    <record id="res_partner_view_form_inherit" model="ir.ui.view">
      <field name="name">res.partner.view.form.inherit</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form"/>
      <field name="arch" type="xml">
        <div name="button_box" position="inside">
          <button name="action_open_orders" string="Sale Report" icon="fa-bar-chart" type="object"/>
        </div>
      </field>
    </record>

  </data>
</odoo>
<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>

    <record id="res_partner_view_form_inherit" model="ir.ui.view">
      <field name="name">res.partner.view.form.inherit</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form"/>
      <field name="arch" type="xml">
        <field name="name" position="attributes">
          <attribute name="attrs">{'required': [('type', '=', 'contact')], 'readonly': [('is_company','=', False)]}
          </attribute>
          <attribute name="force_save">1</attribute>
        </field>
        <field name="ref" position="replace"/>
        <field name="function" position="before">
          <field name="ref" string="ID GmVet"/>
        </field>
        <field name="vat" position="after">
          <field name="has_tutor_curator"/>
          <field name="tutor_curator_id" attrs="{'invisible': [('has_tutor_curator', '=', False)]}"/>
        </field>
        <page name="internal_notes" position="before">
          <page name="communication" string="Communication">
            <label for="send_letter" string="Authorized Channels"/>
            <group>
              <field name="send_letter"/>
              <field name="send_email"/>
              <field name="send_sms"/>
              <field name="to_call"/>
              <field name="origin_id"/>
            </group>
          </page>
        </page>
        <page name="internal_notes" position="after">
          <page name="patients" string="Patients">
            <field name="patient_ids"/>
          </page>
        </page>
        <field name="property_payment_term_id" position="before">
          <field name="customer_rank"/>
        </field>
        <field name="property_supplier_payment_term_id" position="before">
          <field name="supplier_rank"/>
        </field>
        <field name="vat" position="before">
          <field name="social_reason" attrs="{'invisible': [('is_company', '=', False)]}"/>
        </field>
      </field>
    </record>

    <record id="argos_res_partner_form_l10n_fr" model="ir.ui.view">
      <field name="name">argos.res.partner.form.l10n.fr</field>
      <field name="model">res.partner</field>
      <field name="priority">30</field>
      <field name="inherit_id" ref="l10n_fr.res_partner_form_l10n_fr"/>
      <field name="arch" type="xml">
        <data>
          <xpath expr="//field[@name='siret']" position="attributes">
            <attribute name="attrs">{'invisible': [('is_company', '=', False)], 'required': [('is_company', '=',
              True)]}
            </attribute>
          </xpath>
        </data>
      </field>
    </record>

    <menuitem id="argos_res_partner_menu_contacts"
              name="Contact"
              action="contacts.action_contacts"
              parent="contacts.res_partner_menu_contacts"
              sequence="1"/>
  </data>
</odoo>
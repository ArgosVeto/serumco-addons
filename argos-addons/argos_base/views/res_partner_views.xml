<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>

    <record id="res_partner_view_form_inherit" model="ir.ui.view">
      <field name="name">res.partner.view.form.inherit</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form"/>
      <field name="priority" eval="2"/>
      <field name="arch" type="xml">
        <field name="name" position="attributes">
          <attribute name="attrs">{'required': [('type', '=', 'contact')], 'readonly': [('is_company','=', False)]}
          </attribute>
          <attribute name="force_save">1</attribute>
        </field>
        <field name="ref" position="replace"/>
        <field name="function" position="before">
          <field name="ref" string="ID GmVet" invisible="1"/>
        </field>
        <field name="vat" position="after">
          <field name="has_tutor_curator"/>
          <field name="tutor_curator_id"
                 attrs="{'invisible': [('has_tutor_curator', '=', False)], 'required': [('has_tutor_curator', '=', True)]}"/>
        </field>
        <page name="internal_notes" position="before">
          <page name="communication" string="Communication">
            <label for="send_letter" string="Authorized Channels"/>
            <group>
              <group name="communication">
                <field name="send_letter"/>
                <field name="send_email"/>
                <field name="send_sms"/>
                <field name="to_call"/>
              </group>
            </group>
          </page>
        </page>
        <field name="property_payment_term_id" position="before">
          <field name="customer_rank"/>
        </field>
        <field name="property_supplier_payment_term_id" position="before">
          <field name="supplier_rank"/>
        </field>
        <field name="vat" position="before">
          <field name="social_reason" attrs="{'invisible': [('is_company', '=', False)]}"/>
        </field>
        <xpath expr="//group[@name='purchase']" position="inside">
          <field name="is_centravet"  attrs="{'invisible':[('parent_id', '!=', False)]}"/>
        </xpath>
        <xpath expr="//label[@for='lang']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//form/sheet/group/group[last()]/div[hasclass('o_row')]" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <field name="state_id" position="attributes">
          <attribute name="invisible">1</attribute>
        </field>
        <field name="vat" position="attributes">
          <attribute name="attrs">{'readonly': [('parent_id','!=',False)], 'invisible': [('is_company','=',False)]}</attribute>
        </field>
        <xpath expr="//group[@name='sale']/field[@name='user_id']" position="before">
          <field name="kinetec_code"/>
        </xpath>
      </field>
    </record>

    <record id="argos_res_partner_form_l10n_fr" model="ir.ui.view">
      <field name="name">argos.res.partner.form.l10n.fr</field>
      <field name="model">res.partner</field>
      <field name="priority">30</field>
      <field name="inherit_id" ref="l10n_fr.res_partner_form_l10n_fr"/>
      <field name="arch" type="xml">
        <data>
          <xpath expr="//field[@name='siret']" position="attributes">
            <attribute name="attrs">{'invisible': [('is_company', '=', False)], 'required': [('is_company', '=',
              True)]}
            </attribute>
          </xpath>
          <xpath expr="//field[@name='siret']" position="after">
            <field name="siren" attrs="{'invisible': [('is_company', '=', False)]}"/>
          </xpath>
        </data>
      </field>
    </record>

    <menuitem id="argos_res_partner_menu_contacts"
              name="Contact"
              action="contacts.action_contacts"
              parent="contacts.res_partner_menu_contacts"
              sequence="1"/>

    <record id="contacts.action_contacts" model="ir.actions.act_window">
      <field name="context">{'default_is_company': True, 'from_bo': True, 'default_contact_type': 'contact'}</field>
      <field name="domain">[('contact_type','=','contact')]</field>
    </record>

    <record id="res_partner_geo_view_form_inherit" model="ir.ui.view">
      <field name="name">res.partner.geo.view.form.inherit</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base_geolocalize.view_crm_partner_geo_form"/>
      <field name="arch" type="xml">
        <page name="geo_location" position="attributes">
          <attribute name="string">Partnership</attribute>
        </page>
      </field>
    </record>

    <record id="res_partner_mail_view_form_inherit" model="ir.ui.view">
      <field name="name">res.partner.mail.view.form.inherit</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="mail.res_partner_view_form_inherit_mail"/>
      <field name="priority" eval="2"/>
      <field name="arch" type="xml">
        <xpath expr="//label[@for='email']" position="replace"/>
        <xpath expr="//div[hasclass('o_row_readonly')]" position="replace">
          <field name="email"/>
        </xpath>
      </field>
    </record>

  </data>
</odoo>
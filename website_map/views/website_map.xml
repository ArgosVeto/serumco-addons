<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<template id="website_maps_asset_frontend" inherit_id="website.assets_frontend">
		<xpath expr="//script[last()]" position="after">
			<!-- <script src="https://maps.googleapis.com/maps/api/js" type="text/javascript"></script> -->
			<script type="text/javascript" src="/website_map/static/src/js/google_map.js" />
			<script type="text/javascript" src="/website_map/static/src/js/slider.js" />
		</xpath>
	</template>
	<!--template id="clinic_search_box_inherit" inherit_id="website_argos.clinic_search_box">
		<xpath expr="//div/form/div[2]" position="replace">
			<t t-if="request.session.uid">
				<div class="">
	               <a role="button" target="" href="#" class="around btn btn-outline-primary  ml-4" onclick="around_me()" id="around_me">
	                   <img src="/website_argos/static/src/img/location.svg" class="img img-fluid mr-2"/><span class="">Autour de moi</span>
	               </a>
	            </div>
	        </t>
	        <t t-if="not request.session.uid">
				<div class="">
	               <a role="button" target="" href="#" class="btn btn-outline-primary  ml-4" onclick="around_func()" id="around_me3">
	                   <img src="/website_argos/static/src/img/location.svg" class="img img-fluid mr-2"/><span class="">Autour de moi</span>
	               </a>
	            </div>
	        </t>
		</xpath>
	</template-->

	<!--template id="clinic_template_inherit" inherit_id="website_argos.clinic_template">
		<xpath expr="//t/section[2]/div/div/div[5]" position="replace">
			<t t-if="request.session.uid">
				<div class="see_map googleMap">
	            	<div class="custom-control custom-switch">
					  <input type="checkbox" class="custom-control-input customSwitch1" id="customSwitch1" onclick="showhide(this)"/>
					  <label class="custom-control-label" for="customSwitch1">Voir La Carte</label>
					</div>
	            </div>
	        </t>
	        <t t-if="not request.session.uid">
	        	<div class="see_map">
	            	<div class="custom-control custom-switch">
					  <input type="checkbox" class="custom-control-input customSwitch1" id="customSwitch3" onclick="showhides(this)"/>
					  <label class="custom-control-label" for="customSwitch3">Voir La Carte</label>
					</div>
	            </div>
	        </t>
            <script type="text/javascript">
            	function showhide(customSwitch1) {
            	var checkbox = document.getElementById("customSwitch1");
            	if (checkbox.checked){
            	document.getElementById("googleMap").style.display = "block";
            	gMap()
            	}
            	else{
            	document.getElementById("googleMap").style.display = "none";
            	location.reload();
            	}
			    
			};
            	function showhides(customSwitch3) {
            	var checkbox = document.getElementById("customSwitch3");
            	if (checkbox.checked){
            	document.getElementById("googleMap2").style.display = "block";
            	myMap2()
            	}
            	else{
            	document.getElementById("googleMap2").style.display = "none";
            	location.reload();
            	}
			    
			};
            </script>
		</xpath>
		<xpath expr="//t/section[3]/div[@class='container']" position="before">
			<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCwRW9SMsA05OdeixE6Ef1SSe853DnPom4&amp;libraries=geometry&amp;callback=myMap"></script>
			<div id="googleMap" class="" style="width: 30%; height: 400px; display: none; position: relative; overflow: hidden; float: right;"></div>

			<script>
			function myMap() {
			var mapProp= {
			  center:new google.maps.LatLng(51.508742,-0.120850),
			  zoom:8,
			};
			var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
			}
			</script>
		</xpath>>
	</template-->

	<template id="clinic_grid_inherit" inherit_id="website_argos.clinic_grid">
		<xpath expr="//div/div/div/t/t/div[@class='col-lg-4 s_col_no_bgcolor pt16 pb16 clinic-grid card-deck']" position="replace">
			<div id="clinic_grid" class="clinic_grid col-lg-6 s_col_no_bgcolor pb16 clinic-grid card-deck">
				<div class="card bg-white">
					<img class="card-img-top" t-att-src="website.image_url(operating_unit, 'clinic_banner')"/>
					<t t-ignore="true" t-if="not user_id._is_public()">
						<t t-if="any(operating_unit.id == cs for cs in clinic_shortlisted)">
							<a role="button" class="btn-primary fav-btn disabled" t-attf-href="/add-clinic/#{operating_unit.sudo().id}">
								<img src="/website_argos/static/src/img/heart.svg"></img>
							</a>
						</t>
						<t t-else="">
							<a role="button" class="btn btn-primary fav-btn" t-attf-href="/add-clinic/#{operating_unit.sudo().id}">
								<img src="/website_argos/static/src/img/heart.svg"></img>
							</a>
						</t>
					</t>
					<t t-else="">
						<a role="button" class="btn btn-primary fav-btn" data-toggle="modal" data-target="#exampleModal">
							<img src="/website_argos/static/src/img/heart.svg"></img>
						</a>
					</t>
					<div class="modal" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
						<div class="modal-dialog modal-dialog-clinic" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<button class="close" data-dismiss="modal" type="button">x</button>
								</div>
								<div class="modal-header">
									<span class="modal-title text-secondary">Ajouter à vos favoris</span>
								</div>
								<div class="modal-body mt32 mb32">
									<span>Pour ajouter votre clinique en favori</span>
									<div class="text-center">
										<span>vous devez <a href="/web/login">vous connecter</a>
										</span>
									</div>
								</div>
								<div class="modal-footer">
									<span>Vous n'avez pas encore de compte ?</span>
								</div>
								<div class="modal-footer modal-footer-btn">
									<a class="btn btn-modal" href="/web/signup">Inscrivez-vous</a>
								</div>
							</div>
						</div>
					</div>

					<div class="card-body">
						<h3 class="card-title o_default_snippet_text">
							<a itemprop="display_name" t-att-content="operating_unit.name" t-field="operating_unit.name" t-attf-href="/nos-cliniques-veterinaires-2/clinique/#{slug(operating_unit.sudo())}"/>
						</h3>

						<t t-set="not_working_time" t-value="operating_unit.clinic_working_status()"/>

						<t t-if="not_working_time">
							<i class="fa fa-circle" style="color:#1ade8d;"></i>
							<span>Etablissement actuellement ouvert</span>
						</t>
						<t t-else="">
							<i class="fa fa-circle" style="color:red;"></i>
							<span>Etablissement actuellement fermé</span>
						</t>

						<div class="clinic-link d-flex">
							<div class="image-l">
								<img src="/website_argos/static/src/img/location.svg"/>
							</div>
							<div class="link">
								<span class="Avenue-Pasteur">
									<span class="street" t-field="operating_unit.street"/>
									<span>, </span>
									<span class="zip" t-field="operating_unit.zip"/>
									<span>, </span>
									<span class="city" t-field="operating_unit.city"/>
								</span>
							</div>
						</div>
					</div>
					<div class="card-footer">
						<a id="appeler" class="btn btn-outline-primary" href="#nogo" onclick="myFunction(this)">
							<img src="/website_argos/static/src/img/phone.svg" class="img img-fluid mr-2 telephone"/>
							<span class="telephone d-inline">Appeler</span>
                            <span class="numero d-none" t-field="operating_unit.phone"/>
  							<!--input class="numero" type="hidden" id="tele" t-att-value="operating_unit.phone"/-->
						</a>
						<script>
function myFunction(e) {
	var numero = e.getElementsByClassName("numero"); 
	var telephone = e.getElementsByClassName("telephone"); 
	var img = e.getElementsByClassName("img"); 
    $(numero).removeClass("d-none");
    $(numero).addClass("d-inline");
    $(telephone).removeClass("d-inline");
    $(telephone).addClass("d-none");
    $(img).addClass("d-none");
    e.style.fontSize = "12px"
}
						</script>
						<a role="button" target="" t-attf-href="tel:{{operating_unit.phone}}" class="btn btn-outline-primary d-md-none d-inline-block mb16">
							<img src="/website_argos/static/src/img/phone.svg" class="img img-fluid mr-2"/>
							<span class="">Appeler</span>
						</a>
						<a role="button" target="_blank" t-attf-href="/appointment-two?clinic_id=#{operating_unit.sudo().id}" class="btn btn-primary mb16 mt16 d-xl-inline-block">
							<span class="">Prendre RDV</span>
						</a>
					</div>
				</div>
			</div>
		</xpath>
		<xpath expr="//div/div[@class='container']" position="before">
			<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
			<div id="googleMap" class="" style="width: 510px; height: 940px; display: none; position: relative; overflow: hidden; float: right;"></div>
			<div id="googleMap2" class="" style="width: 510px; height: 940px; display: none; position: relative; overflow: hidden; float: right;"></div>

			<script>
			function myMap() {
			var mapProp= {
			  center:new google.maps.LatLng(51.508742,-0.120850),
			  zoom:8,
			};
			var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
			}
			function myMap2() {
			var mapProp2= {
			  center:new google.maps.LatLng(46.603354,1.8883335),
			  zoom:8,
			};
			var map = new google.maps.Map(document.getElementById("googleMap2"),mapProp2);
			}
			</script>
			<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCwRW9SMsA05OdeixE6Ef1SSe853DnPom4&amp;libraries=geometry&amp;callback=myMap"></script>
		</xpath>
	</template>

	<!--template id="job_search_box_inherit" inherit_id="website_argos.job_search_box">
		<xpath expr="//t/div/form/div[2]" position="replace">
			<div class="">
               <a role="button" target="" href="#" class="btn btn-outline-primary  ml-4" id="around">
                   <img src="/website_argos/static/src/img/location.svg" class="img img-fluid mr-2"/><span class="">Autour de moi</span>
               </a>
            </div>
            <div class="see_map googleMapjob">
            	<div class="custom-control custom-switch" style="padding-top:14px;">
				  <input type="checkbox" class="custom-control-input" id="customSwitch2" onclick="showhides(this)"/>
				  <label class="custom-control-label" for="customSwitch2">Voir La Carte</label>
				</div>
            </div>
            <script type="text/javascript">
            	function showhides(customSwitch2) {
            	var checkbox = document.getElementById("customSwitch2");
            	if (checkbox.checked){
            	document.getElementById("googleMapjob").style.display = "block";
            	jobMap()
            	}
            	else{
            	document.getElementById("googleMapjob").style.display = "none";
            	location.reload();
            	}
			    
			};
            </script>
		</xpath>
	</template-->

	<template id="index_inherit2_template" inherit_id="website_hr_recruitment.index">
		<xpath expr="//div[@id='jobs_grid']/div[1]" position="after">
			<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCwRW9SMsA05OdeixE6Ef1SSe853DnPom4&amp;libraries=geometry&amp;callback=jobMap"></script>
			<div id="googleMapjob" class="googleMapjob" style="width: 100%; height: 400px;display:none; position: relative; overflow: hidden;"></div>
		</xpath>
	</template>

	<template id="clinic_practice_inherit" inherit_id="website_argos.clinic_pratice">
		<!--xpath expr="//t/section[2]/div/div/div/div[3]/div[1]" position="replace">
			<div class="d-flex align-items-center">
				<h3 class="Nos-services">Localisation</h3>
				<a id="i_go" href="#" class="ml-auto top-text">
					<span class="mr-2">J'y vais</span>
					<span><img src="/website_argos/static/src/img/right.png"/></span>
				</a>
			</div>
		</xpath-->
		<xpath expr="//t/section[2]/div/div/div/div[3]/div[2]" position="replace">
			<div class="mb32">
		    	<div id="googleMap_clinic" style="width: 100%; height: 400px;display:block; position: relative; overflow: hidden;"></div>
                <input type="hidden" id='latitude' t-att-value='operating_unit.partner_id.partner_latitude'/>
                <input type="hidden" id='longitude' t-att-value='operating_unit.partner_id.partner_longitude'/>
                <input type="hidden" id='clinique' t-att-value='operating_unit.name'/>
				<script>
			
				function ClinicMap() {
					var latitude = parseFloat(document.getElementById('latitude').value);
					var longitude = parseFloat(document.getElementById('longitude').value);
					var myLatLng = { lat: latitude, lng: longitude };
					var map = new google.maps.Map(document.getElementById('googleMap_clinic'), {
						zoom: 14,
						center: myLatLng,
			
					});
					var marker = new google.maps.Marker({
						position: myLatLng,
						title: document.getElementById('clinique').value,
						map,
						zoom:10,
					});
					var infoWindowOptions = {
						content: '<p><strong><t t-esc="operating_unit.name"/></strong></p>'
						    + '<p><t t-esc="operating_unit.street"/>, <t t-esc="operating_unit.city"/></p>'
							+ '<a t-att-href="'https://www.google.com/maps/place/'+operating_unit.street+'+'+operating_unit.city" target="_blank" class="ml-auto top-text">Voir sur Google Maps</a>'
					};

					var infoWindow = new google.maps.InfoWindow(infoWindowOptions);

					google.maps.event.addListener(marker, 'click', function() {
						infoWindow.open(map, marker);
					});
				}
			
				</script>
				<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCwRW9SMsA05OdeixE6Ef1SSe853DnPom4&amp;libraries=geometry&amp;callback=ClinicMap"></script>
			</div>
		</xpath>
	</template>

	<template id="my_clinic_inherit" inherit_id="website_argos.my_clinic">
        <xpath expr="//div[@id='localisation']/div[2]" position="replace">
			<div class="mb32">
		    	<div id="googleMap_clinic" style="width: 100%; height: 400px;display:block; position: relative; overflow: hidden;"></div>
                <input type="hidden" id='latitude' t-att-value='clinic.partner_id.partner_latitude'/>
                <input type="hidden" id='longitude' t-att-value='clinic.partner_id.partner_longitude'/>
                <input type="hidden" id='clinique' t-att-value='clinic.name'/>
				<script>
			
				function ClinicMap() {
					var latitude = parseFloat(document.getElementById('latitude').value);
					var longitude = parseFloat(document.getElementById('longitude').value);
					var myLatLng = { lat: latitude, lng: longitude };
					var map = new google.maps.Map(document.getElementById('googleMap_clinic'), {
						zoom: 14,
						center: myLatLng,
			
					});
					var marker = new google.maps.Marker({
						position: myLatLng,
						title: document.getElementById('clinique').value,
						map,
						zoom:10,
					});
					var infoWindowOptions = {
						content: '<p><strong><t t-esc="clinic.name"/></strong></p>'
						    + '<p><t t-esc="clinic.street"/>, <t t-esc="clinic.city"/></p>'
							+ '<a t-att-href="'https://www.google.com/maps/place/'+clinic.street+'+'+clinic.city" target="_blank" class="ml-auto top-text">Voir sur Google Maps</a>'
					};

					var infoWindow = new google.maps.InfoWindow(infoWindowOptions);

					google.maps.event.addListener(marker, 'click', function() {
						infoWindow.open(map, marker);
					});
				}
			
				</script>
				<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCwRW9SMsA05OdeixE6Ef1SSe853DnPom4&amp;libraries=geometry&amp;callback=ClinicMap"></script>
			</div>
		</xpath>
	</template>

</odoo>
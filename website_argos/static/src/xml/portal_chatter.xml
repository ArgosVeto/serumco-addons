<?xml version="1.0" encoding="utf-8"?>
<templates xml:space="preserve">
    <t t-extend="portal.chatter_messages">
        <t t-jquery=".o_portal_chatter_messages" t-operation="replace">
            <div class="o_portal_chatter_messages">
                <div class="d-none d-md-block">
                    <t t-foreach="widget.get('messages') || []" t-as="message">
                        <div class="media o_portal_chatter_message" t-att-id="'message-' + message.id">
                            <div class="media-body">
                                <div class="product-rating-star">
                                    <t t-if="message['rating_value']">
                                        <t t-call="website_rating.rating_stars_static">
                                            <t t-set="val" t-value="message.rating_value"/>
                                        </t>
                                    </t>
                                </div>
                                <div class="position-relative">
                                    <t t-raw="message.body"/>
                                    <!--img class="img img-fluid quote-image" src="/website_argos/static/src/img/quote.svg"></img-->
                                </div>
                                <div class="o_portal_chatter_message_title">
                                    <h5 class='mb-1'>
                                        <t t-esc="message.author_id[1]"/>
                                    </h5>
                                    <p class="o_portal_chatter_puslished_date">
                                        <t t-esc="message.published_date_str"/>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </t>
                </div>


                <div class="d-block d-md-none">
                    <div id="rating-carousel" class="mes-product carousel bs-slider slide  control-round indicators-line mt24 w-100" data-ride="carousel" data-pause="hover" data-interval="7000">
                        <div class="carousel-inner" role="listbox">
                            <t t-set="count" t-value="0"/>
                            <t t-foreach="widget.get('messages') || []" t-as="message">
                                <t t-if="count == 0">
                                    <div class="carousel-item active w-100">
                                        <div class="media o_portal_chatter_message" t-att-id="'message-' + message.id">
                                            <div class="media-body">
                                                <div class="product-rating-star">
                                                    <t t-if="message['rating_value']">
                                                        <t t-call="website_rating.rating_stars_static">
                                                            <t t-set="val" t-value="message.rating_value"/>
                                                        </t>
                                                    </t>
                                                </div>
                                                <div class="position-relative">
                                                    <t t-raw="message.body"/>
                                                    <!--img class="img img-fluid quote-image" src="/website_argos/static/src/img/quote.svg"></img-->
                                                </div>
                                                <div class="o_portal_chatter_message_title">
                                                    <h5 class='mb-1'>
                                                        <t t-esc="message.author_id[1]"/>
                                                    </h5>
                                                    <p class="o_portal_chatter_puslished_date">
                                                        <t t-esc="message.published_date_str"/>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </t>
                                <t t-else="">
                                    <div class="carousel-item w-100">
                                        <div class="media o_portal_chatter_message" t-att-id="'message-' + message.id">
                                            <div class="media-body">
                                                <div class="product-rating-star">
                                                    <t t-if="message['rating_value']">
                                                        <t t-call="website_rating.rating_stars_static">
                                                            <t t-set="val" t-value="message.rating_value"/>
                                                        </t>
                                                    </t>
                                                </div>
                                                <div class="position-relative">
                                                    <t t-raw="message.body"/>
                                                    <!--img class="img img-fluid quote-image" src="/website_argos/static/src/img/quote.svg"></img-->
                                                </div>
                                                <div class="o_portal_chatter_message_title">
                                                    <h5 class='mb-1'>
                                                        <t t-esc="message.author_id[1]"/>
                                                    </h5>
                                                    <p class="o_portal_chatter_puslished_date">
                                                        <t t-esc="message.published_date_str"/>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </t>
                                <t t-set="count" t-value="count + 1"/>
                            </t>
                        </div>
                    </div>
                    <a class="float-left font-14" data-target="#rating-carousel" role="button" data-slide="prev">
                        <img src="/website_argos/static/src/img/left.svg"/>
                        <b class="sr-only font-normal o_default_snippet_text">Previous</b>
                    </a>
                    <a class="float-right font-14" data-target="#rating-carousel" role="button" data-slide="next">
                        <img src="/website_argos/static/src/img/right.svg"/>
                        <b class="sr-only font-normal o_default_snippet_text">Next</b>
                    </a>
                </div>
            </div>
        </t>
    </t>

    <t t-extend="website_sale.productsRecentlyViewed">
        <t t-jquery="div.o_carousel_product_card" t-operation="replace">
            <div class="o_carousel_product_card card h-100 position-relative">
                <input type="hidden" name="product-id" t-att-data-product-id="product.id"/>
                <a class="o_carousel_product_img_link" t-att-href="product.website_url">
                    <img class="o_carousel_product_card_img_top card-img-top" t-attf-src="/web/image/product.product/#{product.id}#{productFrame == 1 ? '/image_256' : '/image_512'}" t-att-alt="product.display_name"/>
                </a>
                <!-- <div class="tag-wishlist">
                    <t t-if="request.website.viewref('website_sale_wishlist.add_to_wishlist').active">
                        <t t-set="in_wish" t-value="product._is_in_wishlist()"/>
                        <t t-set="product_variant_id" t-value="product._get_first_possible_variant_id()"/>
                        <button t-if="product_variant_id" type="button" role="button" class="btn btn-link o_add_wishlist" t-att-disabled='in_wish or None' title="Add to Wishlist" t-att-data-product-template-id="product.id" t-att-data-product-product-id="product_variant_id" data-action="o_wishlist">
                            <img src="/website_argos/static/src/img/heart.png" class="img img-fluid" alt="Add To Wishlist"/>
                        </button>
                    </t>
                </div> -->
                <i class="fa fa-trash o_carousel_product_remove js_remove"></i>
                <div class="pt-2 pb-2 text-left">
                    <h6 class="text-truncate d-product-name mt-1" t-att-title="product.display_name">
                        <a t-att-href="product.website_url">
                            <span t-esc="product.display_name"/>
                        </a>
                    </h6>
                    <div t-if="product.rating" t-raw="product.rating"/>

                    <button type="button" role="button" class="js_add_cart btn" title="Add to Cart">
                        <img src="/website_argos/static/src/img/white-cart.png" class="img img-fluid mr4"/>
Ajouter<span class="text-white ml-1 mr-1 text-bold"> - </span>
                        <div class="font-weight-bold" t-raw="product.price"/>
                    </button>
                </div>
            </div>
        </t>
        <t t-jquery=".carousel-control-prev" t-operation="replace">
            <a class="o_carousel_product_control carousel-control-prev" t-att-href="'#' + uniqueId" role="button" data-slide="prev">
                <i class="fa fa-long-arrow-left"/>
                <span class="sr-only">Previous</span>
            </a>
        </t>
        <t t-jquery=".carousel-control-next" t-operation="replace">
            <a class="o_carousel_product_control carousel-control-next" t-att-href="'#' + uniqueId" role="button" data-slide="next">
                <i class="fa fa-long-arrow-right"/>
                <span class="sr-only">Next</span>
            </a>
        </t>
    </t>


</templates>